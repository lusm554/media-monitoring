# Текст для суммаризации
text = """
ВТБ прогнозирует объем рынка ЦФА по итогам года около 400 млрд рублей

По итогам 2024 года объем рынка цифровых финансовых активов (ЦФА) в России приблизится к 400 млрд рублей. Об этом в рамках ВЭФ-2024 в эфире телеканала РБК ТВ заявил член правления ВТБ Виталий Сергейчук.

«Объем рынка ЦФА в 2024 году уже превысил 200 млрд руб. и может достигнуть 400 млрд руб. Этот рынок активно развивается, его доходность уже сейчас зачастую превышает доходность по сопоставимым биржевым инструментам. Поэтому мы видим большой потенциал роста спроса на данный продукт со стороны инвесторов», – рассказал Виталий Сергейчук.

Он также отметил, что для более активного развития рынка ЦФА необходима автоматизация сделок. «Сейчас ограничен инструментарий, доступный физическим лицам. Как только мы переведем форму или возможность инвестирования в ЦФА в привычный для людей интерфейс – приложения брокерские и банковские в телефоне – будет гораздо больше спрос и всплеск интереса со стороны розничного инвестора к данному продукту», – отметил спикер.

Напомним, что в этом году ВТБ первым в России предложил частным инвесторам цифровые финансовые активы, привязанные к стоимости физического квадратного метра в строящемся жилом комплексе hideOUT. Этот инструмент радикально снизил для розничных инвесторов порог входа на рынок инвестиций в премиальную недвижимость. Доходность и защита капитала инвесторов аналогичны приобретению физического метра жилья в этом ЖК.
"""

from transformers import T5ForConditionalGeneration, T5Tokenizer

model_name = "cointegrated/rut5-base-multitask"  # Русская T5-модель
model = T5ForConditionalGeneration.from_pretrained(model_name)
tokenizer = T5Tokenizer.from_pretrained(model_name)

# Подготовка входных данных для модели
inputs = tokenizer("Суммаризируй до 2-3 предложений: " + text, return_tensors="pt", max_length=512, truncation=True)

# Генерация суммаризации
summary_ids = model.generate(inputs["input_ids"], max_length=50, min_length=20, length_penalty=2.0, num_beams=4, early_stopping=True)
summary = tokenizer.decode(summary_ids[0], skip_special_tokens=True)

import sys; sys.path.insert(0, '.')
import scraper_lib

articles = scraper_lib.CfaAllNewsScraper(error='raise').fetch_and_parse(scraper_lib.Periods.LAST_24_HOURS)
